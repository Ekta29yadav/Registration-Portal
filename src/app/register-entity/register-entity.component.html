<div class="container bg-gray-100">
  <h5 class="text-center mb-5 title pt-4">
    To register students download excel template, populate student details and upload - <a href="#" class="text-gray-100">Demo (Video)</a>
  </h5>

  <div>
    <div class="flex-container filter-bx">
      <div class="d-flex flex-column align-items-start">
        <label>Select Grade</label>
        <select class="filter-btn" aria-label="Default select example" [(ngModel)]="model.grade" #grade="ngModel">
          <option [ngValue]="undefined" [disabled]="true">Select grade</option>
          <option *ngFor="let grade of grades" [value]="grade.value">{{grade.label}}</option>
        </select>
      </div>
      <div class="d-flex flex-column align-items-start">
        <label for="academicYear">Select Academic year</label>
        <select class="filter-btn" id="academicYear" [(ngModel)]="model.academicYear" #academicYear="ngModel">
          <option [ngValue]="undefined" [disabled]="true">Select Year</option>
          <option *ngFor="let year of academicYearRange" [value]="year">{{year}}</option>
        </select>
      </div>
      <div class="d-flex flex-column align-items-start">
        <label for="certificateType">Select Type</label>
        <select class="filter-btn" id="certificateType" [(ngModel)]="model.certificateType" #certificateType="ngModel">
          <option [ngValue]="undefined" [disabled]="true">Select Type</option>
          <option *ngFor="let type of certificateTypes" [value]="type.value">{{type.label}}</option>
        </select>
      </div>
      <div class="d-flex flex-column align-items-start">
        <button class="btn btn-outline-secondary filter-btn" (click)="downloadTemplate()">Download CSV
          Template&nbsp;&nbsp;<i class="fa fa-solid fa-file-download"></i></button>
      </div>
      <div class="d-flex flex-column align-items-start">
        <input #fileUploadSimple [accept]="'.csv'" type="file" class="file-input" (click)="$event.target.value=null"
          (change)="importDataFromCSV($event)" hidden="true" />
        <button class="btn btn-outline-secondary filter-btn" (click)="fileUploadSimple.click()"
          [disabled]="!(model.grade && model.academicYear && model.certificateType)">Upload CSV Template&nbsp;<i
            class="fa fa-solid fa-file-upload"></i></button>
      </div>
    </div>
  </div>
  <!-- Static registration steps design -->
  <!-- <div class="card-bx text-center">
    <h1 class="heading1 p-5">Student Registration</h1>
      <div class="vertical-card">
        <div class="d-flex align-item-center">
          <div>
            Register, Issue and Manage enrolled certificates
          </div> 
          <div>
            <i class="fa fa-arrow-alt-circle-right fs-28"></i>
          </div>
        </div>
    </div>
    <div class="vertical-card mt-5">
      <div class="d-flex align-item-center">
        <div>
          Student registration claim management
        </div> 
        <div>
          <i class="fa fa-arrow-alt-circle-right fs-28"></i>
        </div>
      </div>
  </div>  
  </div> -->

  <div class="student-list">
    <ngb-progressbar *ngIf="showProgress" type="info" [value]="progress" [striped]="true" [animated]="true">{{progress}}%</ngb-progressbar>
    <div class="d-flex justify-content-center" *ngIf="isLoading">
      <div class="spinner-border" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
    <ngb-alert type="danger" *ngIf="errorMessage">{{ errorMessage }}</ngb-alert>
    <table class="table" cellpadding="0" cellspacing="0">
      <thead>
        <tr>
          <th scope="col" *ngFor="let columnValue of tableColumns">{{columnValue | titlecase}}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let rowValues of tableRows; index as i">
          <td *ngFor="let item of rowValues">{{ item }}</td>
          <td><img src="assets/icons/edit.svg" alt="Edit Details" class="img-btn"></td>
          <td><img src="assets/icons/delete.svg" alt="Delete Details" class="img-btn"></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="d-flex justify-content-end align-items-start p-2 pb-3 pt-5 table-footer" *ngIf="allDataRows?.length">
    <button type="button" class="custom-button blue-button mt-10 p-65" (click)="saveAndVerify()">Save and Verify Student</button>
    <ngb-pagination class="ml-2" [collectionSize]="allDataRows?.length" [(page)]="page" [pageSize]="pageSize"
      (pageChange)="pageChange()">
    </ngb-pagination>
  </div>
</div>